<!doctype html><html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>色彩支持</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="styles.css" type="text/css" />
</head>
<body><div class="main"><div class="tree">
<p><strong>Index</strong></p>
<p><a href="npyscreen.html">npyscreen</a></p>

<ol>
<li><a href="npyscreen--npyscreen介绍.html">npyscreen介绍</a></li>
<li><a href="npyscreen--创建npyscreen应用程序.html">创建npyscreen应用程序</a></li>
<li><a href="npyscreen--Application应用对象.html">Application应用对象</a></li>
<li><a href="npyscreen--Form窗口对象.html">Form窗口对象</a></li>
<li><a href="npyscreen--控件基本特性.html">控件:基本特性</a></li>
<li><a href="npyscreen--控件显示文本.html">控件:显示文本</a></li>
<li><a href="npyscreen--控件选取选项.html">控件:选取选项</a></li>
<li><a href="npyscreen--控件树表与树的显示.html">控件:树表与树的显示</a></li>
<li><a href="npyscreen--控件日期,滑块和复合控件.html">控件:日期,滑块和复合控件</a></li>
<li><a href="npyscreen--控件网格.html">控件:网格</a></li>
<li><a href="npyscreen--控件其他控制.html">控件:其他控制</a></li>
<li><a href="npyscreen--控件标题控件.html">控件:标题控件</a></li>
<li><a href="npyscreen--控件控件框.html">控件:控件框</a></li>
<li><a href="npyscreen--按键绑定全解.html">按键绑定全解</a></li>
<li><a href="npyscreen--增强鼠标支持.html">增强鼠标支持</a></li>
<li><a href="npyscreen--色彩支持.html">色彩支持</a></li>
<li><a href="npyscreen--显示简讯通知及选项.html">显示简讯通知及选项</a></li>
<li><a href="npyscreen--清空屏幕.html">清空屏幕</a></li>
<li><a href="npyscreen--应用支持.html">应用支持</a></li>
<li><a href="npyscreen--编写更复杂的窗口.html">编写更复杂的窗口</a></li>
<li><a href="npyscreen--编写测试.html">编写测试</a></li>
<li><a href="npyscreen--示例程序一个简单的通讯录.html">示例程序:一个简单的通讯录</a></li>
</ol></div>
<div class="page"><h1><b><u>色彩支持</u></b></h1><strong><h2>色彩支持</h2></strong><br /><br /><strong><h3>设置颜色</h3></strong><br /><br />所有的标准控件都单色终端中是完全可用的.不过,当今的终端的天下已经都是彩色的了,而npyscreen允许你将控件显示地,怎么说呢,如果不算是五彩缤纷(TM)[TM也是制作电影的彩色印片法],那也会是在curses允许的范围内尽量的接近了.<br /><br />色彩是由 ThemeManager 类来处理的.通常,你的应用应该坚持使用一个 ThemeManager比较好,你需要使用 setTheme(ThemeManager) 函数来设置.就例如:<br /><div class="codebox"><div class="codebox">npyscreen.setTheme(npyscreen.Themes.ColorfulTheme)</div></div><br />任何 npyscreen里定义的默认主题都是可以通过 npyscreen.Themes 访问的.<br /><br />一个基本的主题看起来是这样的:<br /><div class="codebox"><div class="codebox">class&nbsp;DefaultTheme(npyscreen.ThemeManager):<br />&nbsp;&nbsp;&nbsp;&nbsp;default_colors&nbsp;=&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff00ff;font-weight:400">'DEFAULT'</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;<span style="color:#ff00ff;font-weight:400">'WHITE_BLACK'</span>,<br />&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff00ff;font-weight:400">'FORMDEFAULT'</span>&nbsp;:&nbsp;<span style="color:#ff00ff;font-weight:400">'WHITE_BLACK'</span>,<br />&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff00ff;font-weight:400">'NO_EDIT'</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;<span style="color:#ff00ff;font-weight:400">'BLUE_BLACK'</span>,<br />&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff00ff;font-weight:400">'STANDOUT'</span>&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;<span style="color:#ff00ff;font-weight:400">'CYAN_BLACK'</span>,<br />&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff00ff;font-weight:400">'CURSOR'</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;<span style="color:#ff00ff;font-weight:400">'WHITE_BLACK'</span>,<br />&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff00ff;font-weight:400">'CURSOR_INVERSE'</span>:&nbsp;<span style="color:#ff00ff;font-weight:400">'BLACK_WHITE'</span>,<br />&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff00ff;font-weight:400">'LABEL'</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;<span style="color:#ff00ff;font-weight:400">'GREEN_BLACK'</span>,<br />&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff00ff;font-weight:400">'LABELBOLD'</span>&nbsp;&nbsp;&nbsp;:&nbsp;<span style="color:#ff00ff;font-weight:400">'WHITE_BLACK'</span>,<br />&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff00ff;font-weight:400">'CONTROL'</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;<span style="color:#ff00ff;font-weight:400">'YELLOW_BLACK'</span>,<br />&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff00ff;font-weight:400">'IMPORTANT'</span>&nbsp;&nbsp;&nbsp;:&nbsp;<span style="color:#ff00ff;font-weight:400">'GREEN_BLACK'</span>,<br />&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff00ff;font-weight:400">'SAFE'</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;<span style="color:#ff00ff;font-weight:400">'GREEN_BLACK'</span>,<br />&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff00ff;font-weight:400">'WARNING'</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;<span style="color:#ff00ff;font-weight:400">'YELLOW_BLACK'</span>,<br />&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff00ff;font-weight:400">'DANGER'</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;<span style="color:#ff00ff;font-weight:400">'RED_BLACK'</span>,<br />&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff00ff;font-weight:400">'CRITICAL'</span>&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;<span style="color:#ff00ff;font-weight:400">'BLACK_RED'</span>,<br />&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff00ff;font-weight:400">'GOOD'</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;<span style="color:#ff00ff;font-weight:400">'GREEN_BLACK'</span>,<br />&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff00ff;font-weight:400">'GOODHL'</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;<span style="color:#ff00ff;font-weight:400">'GREEN_BLACK'</span>,<br />&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff00ff;font-weight:400">'VERYGOOD'</span>&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;<span style="color:#ff00ff;font-weight:400">'BLACK_GREEN'</span>,<br />&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff00ff;font-weight:400">'CAUTION'</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;<span style="color:#ff00ff;font-weight:400">'YELLOW_BLACK'</span>,<br />&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff00ff;font-weight:400">'CAUTIONHL'</span>&nbsp;&nbsp;&nbsp;:&nbsp;<span style="color:#ff00ff;font-weight:400">'BLACK_YELLOW'</span>,<br />&nbsp;&nbsp;&nbsp;&nbsp;}</div></div><br /><br />这些颜色 - 像 WHITE_BLACK ("白字黑底") - 是在 ThemeManager 类的 initialize_pairs 方法中定义的.下面是默认被定义好的:<br /><div class="codebox"><div class="codebox">(<span style="color:#ff00ff;font-weight:400">'BLACK_WHITE'</span>,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;curses.COLOR_BLACK,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;curses.COLOR_WHITE<span style="color:#000000;font-weight:700">)</span>,<br />&nbsp;(<span style="color:#ff00ff;font-weight:400">'BLUE_BLACK'</span>,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;curses.COLOR_BLUE,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;curses.COLOR_BLACK),<br />&nbsp;(<span style="color:#ff00ff;font-weight:400">'CYAN_BLACK'</span>,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;curses.COLOR_CYAN,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;curses.COLOR_BLACK),<br />&nbsp;(<span style="color:#ff00ff;font-weight:400">'GREEN_BLACK'</span>,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;curses.COLOR_GREEN,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;curses.COLOR_BLACK),<br />&nbsp;(<span style="color:#ff00ff;font-weight:400">'MAGENTA_BLACK'</span>,&nbsp;&nbsp;&nbsp;&nbsp;curses.COLOR_MAGENTA,&nbsp;&nbsp;&nbsp;&nbsp;curses.COLOR_BLACK),<br />&nbsp;(<span style="color:#ff00ff;font-weight:400">'RED_BLACK'</span>,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;curses.COLOR_RED,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;curses.COLOR_BLACK),<br />&nbsp;(<span style="color:#ff00ff;font-weight:400">'YELLOW_BLACK'</span>,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;curses.COLOR_YELLOW,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;curses.COLOR_BLACK),<br />)</div></div><br />('WHITE_BLACK'是始终会被定义的)<br /><br />如果你需要更多的话,子类化 ThemeManager 然后修改其 _color_to_define 属性.你其实能够使用 curses标准颜色之外的颜色,但是因为不是所有的终端都支持这样,所以 npyscreen默认不会这么做.<br /><br />如果你想要在你的应用中禁用所有的颜色, npyscreen定义好了两个方便的函数:  disableColor() 和 enableColor().<br /><br /><strong><h3>控件如何使用颜色</h3></strong><br /><br />当控件开始被会绘制出来的时候,[构造函数]会询问当前激活的 ThemeManager来给出适合的颜色.以 'LABEL'[主题]为例,它是一个给 用在控件标签上的相关色彩信息 的标签.主题管理器在 default_colors 字典中查找[与颜色关键名称]相关的名字,并返回合适的 colour-pair[颜色对,包含前景色和背景色,每个颜色都有前景色和背景色,前景色为字符主体颜色,背景色是底色]作为 curses[接收]的属性,这个属性之后将会用来在屏幕上绘制出控件.<br /><br />独立的控件通常会有自己的 color属性(可以通过其构造函数设置).它们默认都被设置成 'DEFAULT',但也可以被改成其他任意一个已定义的名字.这种机制基本上只允许独立的控件把自己的 color-scheme[色彩方案]中的某一个特定的部分被改变.<br /><br />带xxx标题版本的控件也会定义 labelColor属性,这可以用来改变他们标签的颜色.<br /><br /><strong><h3>定义自定义颜色(强烈不推荐)</h3></strong><br /><br />在某些终端上,是可能允许你定义自定义的颜色值的. rxvt/urxvt 就是这种终端中的一种.从 4.8.4版本以后,对这种终端的支持已经内建到主体管理器类中.<br /><br />当类初始化需要重定义自定义颜色值的时候将会用到color_values 类属性:<br /><div class="codebox"><div class="codebox">_color_values&nbsp;=&nbsp;(<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000ff;font-weight:400">#&nbsp;redefining&nbsp;a&nbsp;standard&nbsp;color</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(curses.COLOR_GREEN,&nbsp;(<span style="color:#ff00ff;font-weight:400">150</span>,<span style="color:#ff00ff;font-weight:400">250</span>,<span style="color:#ff00ff;font-weight:400">100</span>)),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000ff;font-weight:400">#&nbsp;defining&nbsp;another&nbsp;color</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span style="color:#ff00ff;font-weight:400">70</span>,&nbsp;(<span style="color:#ff00ff;font-weight:400">150</span>,<span style="color:#ff00ff;font-weight:400">250</span>,<span style="color:#ff00ff;font-weight:400">100</span>)),<br />&nbsp;&nbsp;&nbsp;&nbsp;)</div></div><br />注意,当前版本的 npyscreen , 在应用对象退出的时候,是不会去花精力去重置这些值的[他们都会被保留到整个程序退出].<br />我们不鼓励使用这些软件底层设施,是因为其实不可能可靠地分辨出一个终端实际上否能支持自定义颜色.这个特性是在用户为支持某个定制应用的请求下添加的.<br /></div></div>
</body></html>