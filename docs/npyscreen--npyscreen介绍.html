<!doctype html><html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>npyscreen介绍</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="styles.css" type="text/css" />
</head>
<body><div class="main"><div class="tree">
<p><strong>Index</strong></p>
<p><a href="npyscreen.html">npyscreen</a></p>

<ol>
<li><a href="npyscreen--npyscreen介绍.html">npyscreen介绍</a></li>
<li><a href="npyscreen--创建npyscreen应用程序.html">创建npyscreen应用程序</a></li>
<li><a href="npyscreen--Application应用对象.html">Application应用对象</a></li>
<li><a href="npyscreen--Form窗口对象.html">Form窗口对象</a></li>
<li><a href="npyscreen--控件基本特性.html">控件:基本特性</a></li>
<li><a href="npyscreen--控件显示文本.html">控件:显示文本</a></li>
<li><a href="npyscreen--控件选取选项.html">控件:选取选项</a></li>
<li><a href="npyscreen--控件树表与树的显示.html">控件:树表与树的显示</a></li>
<li><a href="npyscreen--控件日期,滑块和复合控件.html">控件:日期,滑块和复合控件</a></li>
<li><a href="npyscreen--控件网格.html">控件:网格</a></li>
<li><a href="npyscreen--控件其他控制.html">控件:其他控制</a></li>
<li><a href="npyscreen--控件标题控件.html">控件:标题控件</a></li>
<li><a href="npyscreen--控件控件框.html">控件:控件框</a></li>
<li><a href="npyscreen--按键绑定全解.html">按键绑定全解</a></li>
<li><a href="npyscreen--增强鼠标支持.html">增强鼠标支持</a></li>
<li><a href="npyscreen--色彩支持.html">色彩支持</a></li>
<li><a href="npyscreen--显示简讯通知及选项.html">显示简讯通知及选项</a></li>
<li><a href="npyscreen--清空屏幕.html">清空屏幕</a></li>
<li><a href="npyscreen--应用支持.html">应用支持</a></li>
<li><a href="npyscreen--编写更复杂的窗口.html">编写更复杂的窗口</a></li>
<li><a href="npyscreen--编写测试.html">编写测试</a></li>
<li><a href="npyscreen--示例程序一个简单的通讯录.html">示例程序:一个简单的通讯录</a></li>
</ol></div>
<div class="page"><h1><b><u>npyscreen介绍</u></b></h1><strong><h2>npyscreen 介绍</h2></strong><br /><br />'编写用户界面,而没有其他维度的一切脏活'<br /><br /><strong><h3>目标</h3></strong><br /><br />npyscreen 是一个 python 的部件库和应用程序框架,主要用于编写命令行终端和控制台程序.它基于 ncurses 库,该库是标准库的一部分.<br /><br />如果询问用户获取一些信息能够变得很容易的话不是很好吗?<br />比如,简单成这样:<br /><div class="codebox"><div class="codebox">MyForm&nbsp;=&nbsp;Form()<br /><br />usrn_box&nbsp;=&nbsp;MyForm.add_widget(TitleText,&nbsp;name=<span style="color:#ff00ff;font-weight:400">"Your&nbsp;name:"</span>)<br />internet&nbsp;=&nbsp;MyForm.add_widget(TitleText,&nbsp;name=<span style="color:#ff00ff;font-weight:400">"Your&nbsp;favourite&nbsp;internet&nbsp;page:"</span>)<br /><br />MyForm.edit()<br /><br /><span style="color:#0000ff;font-weight:400">#&nbsp;usrn_box.value&nbsp;and&nbsp;internet.value&nbsp;now&nbsp;hold&nbsp;the&nbsp;user's&nbsp;answers.</span></div></div><br /><br />如果你也这么想,这个库就是为你准备的.<br /><br /><strong><h3>示例代码</h3></strong><br /><img src="images\2-1.png" alt="images\2-1.png" /><br />这里是一个简单的,单屏幕的应用程序的例子.更多其他的高级应用将会用到 NPSAppMAnaged 框架:<br /><div class="codebox"><div class="codebox"><span style="color:#0000ff;font-weight:700">#!/usr/bin/env&nbsp;python</span><br /><span style="color:#0000ff;font-weight:400">#&nbsp;encoding:&nbsp;utf-8</span><br /><br /><span style="color:#a020f0;font-weight:400">import</span>&nbsp;npyscreen<br />class&nbsp;TestApp(npyscreen.NPSApp):<br />&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;main(<span style="color:#008a8c;font-weight:400">self</span>):<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000ff;font-weight:400">#&nbsp;These&nbsp;lines&nbsp;create&nbsp;the&nbsp;form&nbsp;and&nbsp;populate&nbsp;it&nbsp;with&nbsp;widgets.</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000ff;font-weight:400">#&nbsp;A&nbsp;fairly&nbsp;complex&nbsp;screen&nbsp;in&nbsp;only&nbsp;8&nbsp;or&nbsp;so&nbsp;lines&nbsp;of&nbsp;code&nbsp;-&nbsp;a&nbsp;line&nbsp;for&nbsp;each&nbsp;control.</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;F&nbsp;&nbsp;=&nbsp;npyscreen.Form(name&nbsp;=&nbsp;<span style="color:#ff00ff;font-weight:400">"Welcome&nbsp;to&nbsp;Npyscreen"</span>,)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t&nbsp;&nbsp;=&nbsp;F.add(npyscreen.TitleText,&nbsp;name&nbsp;=&nbsp;<span style="color:#ff00ff;font-weight:400">"Text:"</span>,)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fn&nbsp;=&nbsp;F.add(npyscreen.TitleFilename,&nbsp;name&nbsp;=&nbsp;<span style="color:#ff00ff;font-weight:400">"Filename:"</span>)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fn2&nbsp;=&nbsp;F.add(npyscreen.TitleFilenameCombo,&nbsp;name=<span style="color:#ff00ff;font-weight:400">"Filename2:"</span>)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dt&nbsp;=&nbsp;F.add(npyscreen.TitleDateCombo,&nbsp;name&nbsp;=&nbsp;<span style="color:#ff00ff;font-weight:400">"Date:"</span>)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s&nbsp;&nbsp;=&nbsp;F.add(npyscreen.TitleSlider,&nbsp;out_of=<span style="color:#ff00ff;font-weight:400">12</span>,&nbsp;name&nbsp;=&nbsp;<span style="color:#ff00ff;font-weight:400">"Slider"</span>)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ml&nbsp;=&nbsp;F.add(npyscreen.MultiLineEdit,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;<span style="color:#ff00ff;font-weight:400">"""try&nbsp;typing&nbsp;here!\nMutiline&nbsp;text,&nbsp;press&nbsp;^R&nbsp;to&nbsp;reformat.\n"""</span>,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;max_height=<span style="color:#ff00ff;font-weight:400">5</span>,&nbsp;rely=<span style="color:#ff00ff;font-weight:400">9</span>)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ms&nbsp;=&nbsp;F.add(npyscreen.TitleSelectOne,&nbsp;max_height=<span style="color:#ff00ff;font-weight:400">4</span>,&nbsp;value&nbsp;=&nbsp;[<span style="color:#ff00ff;font-weight:400">1</span>,],&nbsp;name=<span style="color:#ff00ff;font-weight:400">"Pick&nbsp;One"</span>,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;values&nbsp;=&nbsp;[<span style="color:#ff00ff;font-weight:400">"Option1"</span>,<span style="color:#ff00ff;font-weight:400">"Option2"</span>,<span style="color:#ff00ff;font-weight:400">"Option3"</span>],&nbsp;scroll_exit=<span style="color:#ff00ff;font-weight:400">True</span>)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ms2=&nbsp;F.add(npyscreen.TitleMultiSelect,&nbsp;max_height&nbsp;=-<span style="color:#ff00ff;font-weight:400">2</span>,&nbsp;value&nbsp;=&nbsp;[<span style="color:#ff00ff;font-weight:400">1</span>,],&nbsp;name=<span style="color:#ff00ff;font-weight:400">"Pick&nbsp;Several"</span>,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;values&nbsp;=&nbsp;[<span style="color:#ff00ff;font-weight:400">"Option1"</span>,<span style="color:#ff00ff;font-weight:400">"Option2"</span>,<span style="color:#ff00ff;font-weight:400">"Option3"</span>],&nbsp;scroll_exit=<span style="color:#ff00ff;font-weight:400">True</span>)<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000ff;font-weight:400">#&nbsp;This&nbsp;lets&nbsp;the&nbsp;user&nbsp;interact&nbsp;with&nbsp;the&nbsp;Form.</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;F.edit()<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008a8c;font-weight:400">print</span>(ms.get_selected_objects())<br /><br />if&nbsp;<span style="color:#008a8c;font-weight:400">__name__</span>&nbsp;==&nbsp;<span style="color:#ff00ff;font-weight:400">"__main__"</span>:<br />&nbsp;&nbsp;&nbsp;&nbsp;App&nbsp;=&nbsp;TestApp()<br />&nbsp;&nbsp;&nbsp;&nbsp;App.run()</div></div><br /><br /><strong><h3>优势</h3></strong><br /><br />这个框架应该足够强大可以用来创建所有的,从快捷,简便的小程序,到复杂的,多屏幕的应用程序.它被设计成用来快速完成简单任务,并可大幅度减轻编写大型程序的痛苦.<br /><br />它拥有种类非常丰富的默认控件, -从简单的文本字段到复杂的树[树形显示]和网格视图的一切.<br /><br />这个库的关注点一直是提供一个快速的开发控制台程序方式.通常对屏幕增加一个控制部件都只需要一行.<br /><br /><strong><h3>不足</h3></strong><br /><br />在2.0pre88 版本中引进了窗体随终端大小自动调整的能力.而之前的版本都一直假定使用固定大小的终端.<br /><br /><strong><h3>兼容性</h3></strong><br /><br />当前版本是在 python3 下完成的,但是这些代码也保持了对现代 python2 版本的兼容性.一些涉及 Unicode 的特性在 python3 下会运行的更好.<br /><br />它被设计成了仅使用 python 的标准库即可运行的,并且只要求可运行的 python (2.6或更高)被安装和可运行的 curses 库被安装即可. Npyscreen 也因此可以运行在几乎所有的通用平台,甚至在 window 中的 Cygwin 环境下.<br /><br /><strong><h3>python3.4.0</h3></strong><br /><br />在python3.4.0的curses模块中有一个灾难性的bug:<span style="color:#404040;"> </span><a href="http://bugs.python.org/issue21088">http://bugs.python.org/issue21088</a><br /><br />该 bug 在 python3.4.1 中被修复,而直到 3.4.1 发布出来也没有人提醒我这件事,我不打算在 npyscreen 里发布一个的解决方案,因为我觉得坚守 python3.4.0 的人数应该很小.如果这给你带来了问题,请与我联系.<br /><br /><strong><h3>Unicode</h3></strong><br /><br />从 2.0pre47 版本开始所有的文本控件在 utf-8 兼容的终端上应该都支持 utf-8 字符显示和输入了.这也修补了该库的一个长期存在的限制,并且让它也适合针对 非英语用户 的项目中使用了.<br /><br />自 2.0pre48 版本开始,该库即计划 在所有控件的 Unicode 处理上变得更加健壮.目前系统的还有一些地方在 utf-8/Unicode 的支持上仍需要进一步的努力.如果你碰到了的话 请向我们发送 bug 报告文档.<br /><br /><strong><h3>相似的项目</h3></strong><br /><br />你也可以看看:<a href="http://excess.org/urwid/">http://excess.org/urwid/</a><br /><br />与 npyscreen 相比, urwid[二胡] 更像一个传统的,事件驱动的GUI库,并且跟 curses 一样也会针对其他的显示设备.</div></div>
</body></html>
